<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Labb - Scenarios & Use Cases</title>
    <link rel="stylesheet" href="/style.css">
    <script type="module" src="/common.js"></script><script src="/utils/api-config.js"></script>
    <style>
        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 25px 0;
        
        .scenario-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        
        .scenario-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(53, 78, 141, 0.15);
            border-color: #6b99c2;
        
        .scenario-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        
        .scenario-icon {
            font-size: 2rem;
            margin-right: 15px;
            color: #6b99c2;
        
        .scenario-title {
            color: #354e8d;
            font-size: 1.3rem;
            font-weight: 600;
            margin: 0;
        
        .scenario-tool {
            background: #e3f1f7;
            color: #354e8d;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: auto;
        
        .scenario-description {
            color: #6c757d;
            line-height: 1.6;
            margin-bottom: 15px;
        
        .scenario-examples {
            background: #f8f9fa;
            border-left: 4px solid #6b99c2;
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        
        .scenario-examples h5 {
            color: #354e8d;
            margin-bottom: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        
        .scenario-examples ul {
            margin: 0;
            padding-left: 18px;
        
        .scenario-examples li {
            color: #5a6c7d;
            font-size: 0.85rem;
            margin-bottom: 4px;
        
        .scenario-metrics {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        
        .metric-tag {
            background: #6b99c2;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        
        .category-section {
            margin-bottom: 50px;
        
        .category-title {
            color: #354e8d;
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 20px;
            padding: 20px 25px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e3f1f7 100%);
            border-radius: 12px;
            border: 1px solid #a3c9e0;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        
        .category-icon {
            font-size: 1.6rem;
        
        .intro-section {
            background: linear-gradient(135deg, #e3f1f7 0%, #f8fbff 100%);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            border: 1px solid #a3c9e0;
            text-align: center;
        
        .intro-section h2 {
            color: #354e8d;
            margin-bottom: 15px;
            font-size: 1.6rem;
        
        .intro-section p {
            color: #6c757d;
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
    </style>
</head>
<body>
    <div id="loading" class="loading">
        <h2>Loading scenarios...</h2>
    </div>

    <div id="app" class="container hidden">
        <div class="dashboard-header">
            <div class="header-left">
                <div class="header-title">
                    <h1>Scenarios & Use Cases</h1>
                </div>
            </div>
            <div class="header-center">
            </div>
            <div class="header-right">
                <span class="username" id="welcomeUser">Welcome, User</span>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>

        <div class="content">
            <div class="intro-section">
                <h2>Real-World Traffic Engineering Solutions</h2>
                <p>Our simulation and design tools solve complex traffic engineering challenges across diverse scenarios. From shopping centre parking optimisation to mechanical parking systems, each tool provides precise analysis for informed decision-making.</p>
            </div>

            <!-- Parking & Access Control -->
            <div class="category-section">
                <h2 class="category-title">
                    <span class="category-icon">üÖøÔ∏è</span>
                    Parking & Access Control Scenarios
                </h2>
                <div class="scenario-grid">
                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üè¨</div>
                            <h3 class="scenario-title">shopping centre Parking Analysis</h3>
                            <span class="scenario-tool">Car Park Sim</span>
                        </div>
                        <div class="scenario-description">
                            Determine optimal parking space allocation for shopping centres with varying demand patterns. analyse different management strategies including unlimited capacity, blocking when full, or queuing systems.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Weekend vs weekday parking demand analysis</li>
                                <li>Holiday season capacity planning</li>
                                <li>Mixed-use development parking optimisation</li>
                                <li>Valet vs self-park efficiency comparison</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Utilisation %</span>
                            <span class="metric-tag">Queue Length</span>
                            <span class="metric-tag">Block Rate</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üöó</div>
                            <h3 class="scenario-title">Boom Gate Performance optimisation</h3>
                            <span class="scenario-tool">Boom Gate Sim</span>
                        </div>
                        <div class="scenario-description">
                            Evaluate boom gate systems for parking facilities, security checkpoints, or toll plazas. optimise service times and minimize vehicle queuing while maintaining security protocols.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Corporate campus entry gates</li>
                                <li>Airport parking validation systems</li>
                                <li>Residential complex access control</li>
                                <li>Event venue entry management</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Wait Time</span>
                            <span class="metric-tag">Service Rate</span>
                            <span class="metric-tag">Queue Probability</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üè¢</div>
                            <h3 class="scenario-title">Mechanical Parking System Design</h3>
                            <span class="scenario-tool">Mechanical Parking</span>
                        </div>
                        <div class="scenario-description">
                            Design and optimise automated mechanical parking systems for high-density urban areas. Balance entry/exit rates with system capacity and service time requirements.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>High-rise residential parking towers</li>
                                <li>Downtown commercial district parking</li>
                                <li>Hospital visitor parking systems</li>
                                <li>Transit-oriented development parking</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Utilisation Rate</span>
                            <span class="metric-tag">Wait Times</span>
                            <span class="metric-tag">Delay Probability</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üõó</div>
                            <h3 class="scenario-title">Multi-Floor Car Lift Operations</h3>
                            <span class="scenario-tool">Car Lift Sim</span>
                        </div>
                        <div class="scenario-description">
                            optimise car lift systems in multi-level parking facilities. analyse bi-directional traffic patterns, floor-to-floor service times, and queue formation across multiple levels.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Underground parking garage lifts</li>
                                <li>Rooftop parking access systems</li>
                                <li>Mixed-use building car lifts</li>
                                <li>Warehouse vehicle lift operations</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Floor Utilisation</span>
                            <span class="metric-tag">Service Time</span>
                            <span class="metric-tag">Queue Distribution</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Traffic Flow & Roadway Design -->
            <div class="category-section">
                <h2 class="category-title">
                    <span class="category-icon">üõ£Ô∏è</span>
                    Traffic Flow & Roadway Design Scenarios
                </h2>
                <div class="scenario-grid">
                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">‚ÜîÔ∏è</div>
                            <h3 class="scenario-title">Single Lane Bidirectional Analysis</h3>
                            <span class="scenario-tool">Two-Way Passing</span>
                        </div>
                        <div class="scenario-description">
                            analyse traffic flow on single-lane roads with bidirectional traffic. Evaluate different priority schemes and service times for construction zones, bridges, or narrow passages.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Construction work zone management</li>
                                <li>Single-lane bridge operations</li>
                                <li>Narrow tunnel traffic control</li>
                                <li>Rural road bottleneck analysis</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Directional Utilisation</span>
                            <span class="metric-tag">Average Delay</span>
                            <span class="metric-tag">Queue Formation</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üìê</div>
                            <h3 class="scenario-title">Compliant Ramp Design</h3>
                            <span class="scenario-tool">Ramp Designer</span>
                        </div>
                        <div class="scenario-description">
                            Design vehicle ramps with proper gradients, transitions, and compliance annotations. Generate technical drawings and CAD-ready exports for immediate implementation.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Parking garage ramp design</li>
                                <li>Loading dock access ramps</li>
                                <li>Residential driveway gradients</li>
                                <li>Emergency vehicle access routes</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Gradient %</span>
                            <span class="metric-tag">Transition Length</span>
                            <span class="metric-tag">Code Compliance</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üéí</div>
                            <h3 class="scenario-title">School Pickup Zone optimisation</h3>
                            <span class="scenario-tool">School Pickup</span>
                        </div>
                        <div class="scenario-description">
                            optimise school pickup and drop-off zones to minimize congestion during peak periods. analyse FIFO queuing patterns and finite-period traffic bunching effects.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Elementary school pickup zones</li>
                                <li>High school dismissal management</li>
                                <li>Daycare center traffic flow</li>
                                <li>Special event pickup areas</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Cycle Time</span>
                            <span class="metric-tag">Peak Demand</span>
                            <span class="metric-tag">Queue Length</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Planning & Network Analysis -->
            <div class="category-section">
                <h2 class="category-title">
                    <span class="category-icon">üó∫Ô∏è</span>
                    Planning & Network Analysis Scenarios
                </h2>
                <div class="scenario-grid">
                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üåÜ</div>
                            <h3 class="scenario-title">Regional Trip Distribution Modeling</h3>
                            <span class="scenario-tool">Network Database</span>
                        </div>
                        <div class="scenario-description">
                            Model complex trip distribution patterns across multiple zones and time periods. Handle directional splits, generation scenarios, and multi-modal transportation analysis.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Metropolitan transportation planning</li>
                                <li>New development impact assessment</li>
                                <li>Transit system route optimisation</li>
                                <li>Regional growth scenario modeling</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Trip Generation</span>
                            <span class="metric-tag">Distribution Matrix</span>
                            <span class="metric-tag">Modal Split</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">üèóÔ∏è</div>
                            <h3 class="scenario-title">Development Impact Analysis</h3>
                            <span class="scenario-tool">Multiple Tools</span>
                        </div>
                        <div class="scenario-description">
                            Comprehensive analysis of proposed developments on existing traffic infrastructure. Combine multiple simulation tools to evaluate parking, access, and network impacts.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>shopping centre traffic impact studies</li>
                                <li>Residential complex access analysis</li>
                                <li>Office building parking adequacy</li>
                                <li>Mixed-use development optimisation</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Traffic Generation</span>
                            <span class="metric-tag">LOS Analysis</span>
                            <span class="metric-tag">Mitigation Requirements</span>
                        </div>
                    </div>

                    <div class="scenario-card">
                        <div class="scenario-header">
                            <div class="scenario-icon">‚ö°</div>
                            <h3 class="scenario-title">Emergency Response Planning</h3>
                            <span class="scenario-tool">Multiple Tools</span>
                        </div>
                        <div class="scenario-description">
                            Design emergency evacuation routes and access systems. Ensure adequate capacity for emergency vehicles while maintaining normal traffic operations.
                        </div>
                        <div class="scenario-examples">
                            <h5>Typical Applications:</h5>
                            <ul>
                                <li>Hospital emergency access design</li>
                                <li>Stadium evacuation route planning</li>
                                <li>Industrial facility emergency egress</li>
                                <li>Residential emergency vehicle access</li>
                            </ul>
                        </div>
                        <div class="scenario-metrics">
                            <span class="metric-tag">Evacuation Time</span>
                            <span class="metric-tag">Access Width</span>
                            <span class="metric-tag">Conflict Points</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Auth check is now handled by common.js checkPageAccess()
            
            updateWelcomeMessage();
            
            document.getElementById('loading').style.display = 'none';
            document.getElementById('app').classList.remove('hidden');
        });

        

        function getUsernameFromToken() {
            try {
                const token = localStorage.getItem('authToken');
                if (!token) return 'User';
                
                const decoded = atob(token);
                const [timestamp, username] = decoded.split(':');
                return username || 'User';
            } catch {
                return 'User';

        function updateWelcomeMessage() {
            const username = getUsernameFromToken();
            document.getElementById('welcomeUser').textContent = `Welcome, ${username}`;

        function logout() {
            localStorage.removeItem('authToken');
            window.location.href = '/';
    </script>
</body>
</html>